#cloud-config
# Set the default locale
locale: en_US.UTF-8

# Set the timezone
timezone: Etc/UTC

# Disable SELinux
selinux:
  status: disabled

# Set the root password
chpasswd:
  list: |
    root:moep123!
  expire: False

# Update all packages
package_upgrade: true

# Install packages
packages:
  - minimal-environment

# Remove packages
package_removals:
  - cronie*
  - crontabs
  - iw*-firmware
  - kexec-tools
  - selinux-policy*

# Run commands
runcmd:
  - |
    # Disable first boot
    echo "RUN_FIRSTBOOT=NO" > /etc/sysconfig/firstboot

#    parted /dev/sda --script mklabel gpt mkpart EFI fat32 1MiB 1024MiB mkpart primary ext4 1024MiB 2048MiB
#    mkfs.fat -F32 /dev/sda1
#    mkfs.ext4 /dev/sda2
#    pvcreate /dev/sda2
#    vgcreate vg_gebos /dev/sda2
#    lvcreate -L 4096M -n swap vg_gebos
#    lvcreate -L 8192M -n root vg_gebos
#    lvcreate -L 1024M -n home vg_gebos
#    lvcreate -L 1024M -n log vg_gebos
#    lvcreate -L 1024M -n tmp vg_gebos
#    lvcreate -l 100%FREE -n var vg_gebos
#   mkswap /dev/vg_gebos/swap
#   mkfs.xfs /dev/vg_gebos/root
#   mkfs.ext4 /dev/vg_gebos/home
#   mkfs.ext4 /dev/vg_gebos/log
#   mkfs.ext4 /dev/vg_gebos/tmp
#   mkfs.ext4 /dev/vg_gebos/var
